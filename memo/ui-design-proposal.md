# 事件管理平台 UI 设计草案 - 线框图

## 1. Dashboard (仪表盘)

```text
+----------------------------------------------------+
| Dashboard                                           |
+----------------------------------------------------+
| [主要内容区]                                        |
| +-------------------------------------------------+
| |  Incidents                                       |
| | - Incident X (P1)                               |
| | - Incident Y (P2)                               |
| | - ...                                           |
| +-------------------------------------------------+
| +--------------------------------------------------+
| | 用户未来一周值班信息 (日历视图)                   |
| | +-------+-------+-------+-------+-------+-------+-------+
| | |  Mon  |  Tue  |  Wed  |  Thu  |  Fri  |  Sat  |  Sun  |
| | +-------+-------+-------+-------+-------+-------+-------+
| | | OnCall|  Off  | OnCall|  Off  | OnCall| OnCall|  Off  |
| | +-------+-------+-------+-------+-------+-------+-------+
| +--------------------------------------------------+
+----------------------------------------------------+
```

## 2. Incidents 管理

### 2.1 Incident 列表页

```text
+----------------------------------------------------------------------+
| Incident 列表                                                          |
+----------------------------------------------------------------------+
| [顶部区域]                                                             |
| 筛选: [状态 v] [负责人 v] [类型 v] [服务 v] [时间范围] [搜索...]      |
| 排序: [创建时间 ^] [更新时间 v] [状态 v]                              |
| 操作: [批量分配] [批量解决]                                           |
+----------------------------------------------------------------------+
| [主要内容区 - 列表/表格]                                              |
| +----+-------+----------+----------+------------+------------+--------+-------+ |
| | ID | Title | Status   | Assignee | CreatedAt  | UpdatedAt  | Service| Type | |
| +----+-------+----------+----------+------------+------------+--------+-------+ |
| | 1  | IssueA| Triggered| User 1   | 2023-10-27 | 2023-10-27 |ServiceA| TypeA| |
| |    |       |          |          |            |            |        |      | |
| |    |       | [查看] [分配] [Ack/Resolve]                            |      | |
| +----+-------+----------+----------+------------+------------+--------+-------+ |
| | 2  | IssueB| Resolved | User 2   | 2023-10-26 | 2023-10-27 |ServiceB| TypeB| |
| |    |       |          |          |            |            |        |      | |
| |    |       | [查看] [分配] [Ack/Resolve]                            |      | |
| +----+-------+----------+----------+------------+------------+--------+-------+ |
| | ...                                                                         | |
+----------------------------------------------------------------------+
| [分页] << < 1 2 3 > >>                                                |
+----------------------------------------------------------------------+
```

### 2.2 Incident 详情页

```text
+----------------------------------------------------------------------+
| Incident 详情: #1 IssueA                                               |
+----------------------------------------------------------------------+
| [主要信息区]                                | [更改状态 v]             |
|---------------------------------------------|--------------------------|
| **基本信息:**                               | **评论:**                |
| Title: IssueA                               | +----------------------+ |
| Description: [...................]          | | (U1) User 1 (10:15): | |
| Status: Triggered                           | | This is a comment... | |
| Assignee: User 1 [编辑负责人]               | +----------------------+ |
| Type: TypeA                                 | | (U2) User 2 (10:20): | |
| Created: 2023-10-27                         | | Another comment.     | |
| Updated: 2023-10-27                         | +----------------------+ |
| Resolved: -                                 | | ...                  | |
| ...                                         | |                      | |
|---------------------------------------------| | [ Add Comment ]      | |
| **Alert:**                                  | | [___________________]| |
| - Alert X (Trigger)                         | +----------------------+ |
|---------------------------------------------|                         |
| **子/父 Incidents:**                        |                         |
| - Child: #3                                 |                         |
|---------------------------------------------|                         |
| **处理历史/时间线:**                        |                         |
| - 2023-10-27 10:00 Created                  |                         |
| - 2023-10-27 10:05 Assigned to User 1       |                         |
| - 2023-10-27 10:15 Comment: [...]           |                         |
| - 2023-10-27 10:20 Comment: [...]           |                         |
| - ...                                       |                         |
+----------------------------------------------------------------------+
```

## 3. Alerts 管理

### 3.1 Alert 列表页

```text
+----------------------------------------------------------------------+
| Alert 列表                                                             |
+----------------------------------------------------------------------+
| [顶部区域]                                                             |
| 筛选: [类型 v] [服务 v] [时间范围] [搜索...]                          |
| 排序: [创建时间 ^]                                                     |
+----------------------------------------------------------------------+
| [主要内容区 - 列表/表格]                                              |
| +----+----------+---------+---------+-----------+------------+--------+ |
| | ID | Title    | Type    | Service | Incident  | CreatedAt  | 操作   | |
| +----+----------+---------+---------+-----------+------------+--------+ |
| | 1  | Alert X  | Trigger | ServiceA| #1        | 2023-10-27 | [查看] | |
| | 2  | Alert Y  | Trigger | ServiceB| -         | 2023-10-27 | [查看] | |
| | 3  | Alert Z  | Resolve | ServiceA| #1        | 2023-10-27 | [查看] | |
| | ...                                                                 | |
+----------------------------------------------------------------------+
| [分页] << < 1 2 > >>                                                  |
+----------------------------------------------------------------------+
```

### 3.2 Alert 详情页

```text
+----------------------------------------------------------------------+
| Alert 详情: #1 Alert X                                                 |
+----------------------------------------------------------------------+
| [主要信息区]                                                           |
|----------------------------------------------------------------------|
| **基本信息:**                                                          |
| Title: Alert X                                                         |
| Description: [Details about the alert...]                              |
| Type: Trigger                                                          |
| Severity: critical                                                     |
| Source: monitoring-system                                              |
| Service: ServiceA                                                      |
| Incident: #1 [查看 Incident]                                           |
| Created: 2023-10-27 10:00                                             |
|----------------------------------------------------------------------|
| **详细信息 (Details):**                                                |
| +------------------------------------------------------------------+ |
| | hostname: server-01                                                | |
| | ip_address: 192.168.1.100                                         | |
| | ... (其他自定义字段)                                              | |
| +------------------------------------------------------------------+ |
+----------------------------------------------------------------------+
```

## 4. Services 管理

### 4.1 Service 列表页

```text
+----------------------------------------------------------------------+
| Service 列表                                                           |
+----------------------------------------------------------------------+
| [顶部区域]                                                             |
| [添加新 Service] [搜索...]                                             |
+----------------------------------------------------------------------+
| [主要内容区 - 列表/表格]                                              |
| +----+----------+---------------------+------------+------------------+ |
| | ID | Name     | Description         | CreatedAt  | 操作             | |
| +----+----------+---------------------+------------+------------------+ |
| | 1  | ServiceA | Core service        | 2023-10-27 | [查看][编辑][删除] | |
| | 2  | ServiceB | Another service     | 2023-10-27 | [查看][编辑][删除] | |
| | ...                                                                 | |
+----------------------------------------------------------------------+
| [分页] << < 1 > >>                                                    |
+----------------------------------------------------------------------+
```

### 4.2 Service 详情页

```text
+----------------------------------------------------------------------+
| Service 详情: ServiceA                                                 |
+----------------------------------------------------------------------+
| [基本信息] [Incident Types] [Routes] [Custom Fields] [Schedules] |
+----------------------------------------------------------------------+
```

**基本信息 Tab:**

```text
+----------------------------------------------------------------------+
| **基本信息:**                                                          |
| Name: ServiceA [编辑]                                                  |
| Description: Core service [编辑]                                       |
+----------------------------------------------------------------------+

+----------------------------------------------------------------------+
| **Alerting API Integration:**                                          |
| Endpoint: POST /api/v1/services/{service_id}/alerts                    |
| Payload Example:                                                       |
| ```json                                                               |
| {                                                                     |
|   "title": "Example Alert",                                          |
|   "description": "Details about the alert...",                       |
|   "severity": "critical",                                            |
|   "source": "monitoring-system",                                     |
|   "details": {                                                       |
|     "hostname": "server-01",                                         |
|     "ip_address": "192.168.1.100"                                   |
|   }                                                                  |
| }                                                                    |
| ```                                                                  |
| [Generate Different Example]                                         |
+----------------------------------------------------------------------+
```

**Incident Types Tab:**

```text
+----------------------------------------------------------------------+
| **Incident Types:** [管理]                                        |
| +----+----------+---------------------+------------+                   |
| | ID | Name     | Description         | CreatedAt  |                   |
| +----+----------+---------------------+------------+                   |
| | 1  | TypeA    | Default type        | 2023-10-27 |                   |
| | 2  | TypeB    | Critical type       | 2023-10-27 |                   |
| | ...                                                                 |
| +----+----------+---------------------+------------+                   |
+----------------------------------------------------------------------+
```

**Routes Tab:**

```text
+----------------------------------------------------------------------+
| **Routes:** [管理]                                                |
| +----+---------+---------------------+------------+                    |
| | ID | Service | Target Team/User    | CreatedAt  |                   |
| +----+---------+---------------------+------------+                    |
| | 1  | ServiceA| Team A             | 2023-10-27 |                    |
| | ...                                                                 |
| +----+---------+---------------------+------------+                    |
+----------------------------------------------------------------------+
```

**Custom Fields Tab:**

```text
+----------------------------------------------------------------------+
| **Custom Fields:** [管理]                                         |
| +----+---------+----------+------------+------------+                  |
| | ID | Service | Name     | Type       | CreatedAt  |                 |
| +----+---------+----------+------------+------------+                  |
| | 1  | ServiceA| hostname | Text       | 2023-10-27 |                 |
| | ...                                                                 |
| +----+---------+----------+------------+------------+                  |
+----------------------------------------------------------------------+
```

**Schedules Tab:**

```text
+----------------------------------------------------------------------+
| **Schedules:** [管理]                                             |
| +----+---------+---------------------+------------+                    |
| | ID | Name    | Rotation Type       | CreatedAt  |                   |
| +----+---------+---------------------+------------+                    |
| | 1  | Sch A   | Weekly              | 2023-10-28 |                   |
| | ...                                                                 |
| +----+---------+---------------------+------------+                    |
+----------------------------------------------------------------------+
```


### 4.3 创建/编辑 Service 表单

```text
+----------------------------------------------------------------------+
| 创建/编辑 Service                                                      |
+----------------------------------------------------------------------+
| Name:        [____________________] *                                  |
| Description: [____________________________________________________]   |
|                                                                        |
| [保存] [取消]                                                         |
+----------------------------------------------------------------------+
```

## 5. 配置管理

### 5.1 用户管理 (Users)

**列表页布局线框图:**
```text
+----------------------------------------------------------------------+
| 用户管理                                                               |
+----------------------------------------------------------------------+
| [顶部区域]                                                             |
| [添加新用户] [搜索...]                                                 |
+----------------------------------------------------------------------+
| [主要内容区 - 列表/表格]                                              |
| +----+----------+---------------------+------------------------------+ |
| | ID | Name     | Email               | 操作                         | |
| +----+----------+---------------------+------------------------------+ |
| | 1  | User 1   | user1@example.com   | [查看/编辑][删除]           | |
| | 2  | User 2   | user2@example.com   | [查看/编辑][删除]           | |
| | ...                                                                 | |
+----------------------------------------------------------------------+
| [分页] << < 1 > >>                                                    |
+----------------------------------------------------------------------+
```

**详情/编辑页布局线框图:**
```text
+----------------------------------------------------------------------+
| 用户详情/编辑: User 1                                                  |
+----------------------------------------------------------------------+
| **基本信息:**                                                          |
| Name:  [User 1____________] *                                          |
| Email: [user1@example.com__] *                                        |
|----------------------------------------------------------------------|
| **所属团队:** (可选)                                                   |
| - Team A                                                               |
| - Team B                                                               |
|----------------------------------------------------------------------|
| [保存] [取消]                                                          |
+----------------------------------------------------------------------+
```

### 5.2 团队管理 (Teams)

**列表页布局线框图:**
```text
+----------------------------------------------------------------------+
| 团队管理                                                               |
+----------------------------------------------------------------------+
| [顶部区域]                                                             |
| [添加新团队] [搜索...]                                                 |
+----------------------------------------------------------------------+
| [主要内容区 - 列表/表格]                                              |
| +----+----------+------------+---------------------------------------+ |
| | ID | Name     | CreatedAt  | 操作                                  | |
| +----+----------+------------+---------------------------------------+ |
| | 1  | Team A   | 2023-10-27 | [查看/编辑][管理成员][删除]          | |
| | 2  | Team B   | 2023-10-27 | [查看/编辑][管理成员][删除]          | |
| | ...                                                                 | |
+----------------------------------------------------------------------+
| [分页] << < 1 > >>                                                    |
+----------------------------------------------------------------------+
```

**详情/编辑页布局线框图:**
```text
+----------------------------------------------------------------------+
| 团队详情/编辑: Team A                                                  |
+----------------------------------------------------------------------+
| **基本信息:**                                                          |
| Name: [Team A______________] *                                         |
|----------------------------------------------------------------------|
| **团队成员:** [管理成员]                                              |
| - User 1                                                               |
| - User 3                                                               |
|----------------------------------------------------------------------|
| [保存] [取消]                                                          |
+----------------------------------------------------------------------+
```

### 5.3 Incident 类型管理 (Incident Types)

**列表页布局线框图:**
```text
+----------------------------------------------------------------------+
| Incident 类型管理                                                    |
+----------------------------------------------------------------------+
| [顶部区域]                                                           |
| [添加新类型] [搜索...]                                               |
+----------------------------------------------------------------------+
| [主要内容区 - 列表/表格]                                             |
| +----+----------+----------+---------------------+------------+-----------------+ |
| | ID | Name     | Service  | Description         | CreatedAt  | 操作            | |
| +----+----------+----------+---------------------+------------+-----------------+ |
| | 1  | TypeA    | ServiceA | Default type        | 2023-10-27 | [查看/编辑][删除]| |
| | 2  | TypeB    | ServiceB | Critical type       | 2023-10-27 | [查看/编辑][删除]| |
| | ...                                                                  | |
+----------------------------------------------------------------------+
| [分页] << < 1 > >>                                                   |
+----------------------------------------------------------------------+
```

**详情/编辑页布局线框图:**
```text
+----------------------------------------------------------------------+
| Incident 类型详情/编辑: TypeA                                          |
+----------------------------------------------------------------------+
| **基本信息:**                                                          |
| Name:        [TypeA_______________] *                                  |
| Description: [Default type_________]                                   |
| Condition:   [................................................]      |
|----------------------------------------------------------------------|
| **Status Condtions:**                                                |
| - Triggered: [................................................]       |
| - Resolved:  [................................................]       |
|----------------------------------------------------------------------|
| **Schedules:** [管理]                                             |
| - Schedule A                                                           |
| - Schedule B                                                           |
|----------------------------------------------------------------------|
| [保存] [取消]                                                          |
+----------------------------------------------------------------------+
```

### 5.4 路由规则管理 (Routes)

**列表页布局线框图:**
```text
+----------------------------------------------------------------------+
| 路由规则管理                                                         |
+----------------------------------------------------------------------+
| [顶部区域]                                                           |
| [添加新规则] [搜索...]                                               |
+----------------------------------------------------------------------+
| [主要内容区 - 列表/表格]                                             |
| +----+---------+---------------------+------------+-----------------+ |
| | ID | Service | Target Team/User    | CreatedAt  | 操作            | |
| +----+---------+---------------------+------------+-----------------+ |
| | 1  | ServiceA| Team A              | 2023-10-27 | [查看/编辑][删除]| |
| | 2  | ServiceB| User 1              | 2023-10-27 | [查看/编辑][删除]| |
| | ...                                                                  | |
+----------------------------------------------------------------------+
| [分页] << < 1 > >>                                                   |
+----------------------------------------------------------------------+
```

**详情/编辑页布局线框图:**
```text
+----------------------------------------------------------------------+
| 路由规则详情/编辑: Route 1                                           |
+----------------------------------------------------------------------+
| **规则配置:**                                                        |
| 关联服务:    [ServiceA v] *                                          |
| 目标团队/用户: [Team A v] *                                          |
| 匹配条件: [................................................] |
|----------------------------------------------------------------------|
| [保存] [取消]                                                        |
+----------------------------------------------------------------------+
```

### 5.5 自定义字段管理 (Custom Fields)

**列表页布局线框图:**
```text
+----------------------------------------------------------------------+
| 自定义字段管理                                                       |
+----------------------------------------------------------------------+
| [顶部区域]                                                           |
| [添加新字段] [搜索...]                                               |
+----------------------------------------------------------------------+
| [主要内容区 - 列表/表格]                                             |
| +----+---------+----------+------------+------------+-----------------+ |
| | ID | Service | Name     | Type       | CreatedAt  | 操作            | |
| +----+---------+----------+------------+------------+-----------------+ |
| | 1  | ServiceA| hostname | Text       | 2023-10-27 | [查看/编辑][删除]| |
| | 2  | ServiceA| region   | Select     | 2023-10-27 | [查看/编辑][删除]| |
| | ...                                                                  | |
+----------------------------------------------------------------------+
| [分页] << < 1 > >>                                                   |
+----------------------------------------------------------------------+
```

**详情/编辑页布局线框图:**
```text
+----------------------------------------------------------------------+
| 自定义字段详情/编辑: hostname                                        |
+----------------------------------------------------------------------+
| **字段配置:**                                                        |
| 关联服务: [ServiceA v] *                                             |
| 字段名称: [hostname__________] *                                     |
| 字段类型: [Text v] *                                                 |
| (可选) 描述: [....................................................] |
| (可选, 如类型为 Select) 选项: [Option1, Option2]                     |
|----------------------------------------------------------------------|
| [保存] [取消]                                                        |
+----------------------------------------------------------------------+
```

### 5.6 值班表管理 (Schedules)

**列表页布局线框图:**
```text
+----------------------------------------------------------------------+
| 值班表管理                                                           |
+----------------------------------------------------------------------+
| [顶部区域]                                                           |
| [添加新值班表] [搜索...]                                             |
+----------------------------------------------------------------------+
| [主要内容区 - 列表/表格]                                             |
| +----+----------+---------------------+------------+-----------------+ |
| | ID | Name     | Timezone            | CreatedAt  | 操作            | |
| +----+----------+---------------------+------------+-----------------+ |
| | 1  | Primary  | UTC                 | 2023-10-27 | [查看/编辑][删除]| |
| | 2  | Secondary| Asia/Shanghai       | 2023-10-27 | [查看/编辑][删除]| |
| | ...                                                                  | |
+----------------------------------------------------------------------+
| [分页] << < 1 > >>                                                   |
+----------------------------------------------------------------------+
```

**详情/编辑页布局线框图:**
```text
+----------------------------------------------------------------------+
| 值班表详情/编辑: Primary                                             |
+----------------------------------------------------------------------+
| **基本信息:**                                                        |
| 名称:     [Primary_____________] *                                   |
| 时区:     [UTC v] *                                                  |
|----------------------------------------------------------------------|
| **值班层级 (Layers):** [添加层级]                                    |
| +------------------------------------------------------------------+ |
| | **Layer 1:** [编辑][删除]                                        | |
| | 开始时间: [2023-10-27 00:00]                                       | |
| | 轮换类型: [Weekly v]                                             | |
| | 切换时间: [Monday 09:00]                                           | |
| | 参与者:   [User 1, User 2, Team1] [管理]                           | |
| +------------------------------------------------------------------+ |
| | **Layer 2:** ...                                                 | |
| +------------------------------------------------------------------+ |
|----------------------------------------------------------------------|
| **最终预览 (日历视图):**                                             |
| [..................................................................] |
|----------------------------------------------------------------------|
| [保存] [取消]                                                        |
+----------------------------------------------------------------------+
```
